# Node.js 14 버전이 설치된 공식 이미지를 베이스로 사용합니다.
FROM node:14

# 이후 명령어들이 실행될 작업 디렉토리를 /app으로 설정합니다.
WORKDIR /app

# 현재 디렉토리의 모든 파일을 컨테이너의 작업 디렉토리로 복사합니다.
COPY . .

# 의존성 패키지를 설치합니다.
RUN npm install

# 이후 명령어를 node 사용자 권한으로 실행합니다(보안 강화).
USER node

# 컨테이너가 외부에 공개할 포트(3000번)를 명시합니다.
EXPOSE 3000

# 컨테이너가 시작될 때 npm start 명령을 실행합니다.
CMD ["npm", "start"]